<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>微信小程序云开发 | Mao Lihang's blog</title>
    <meta name="description" content="vue,js,node,html,css,react,前端,微前端,webpack,vite,vue3">
    <link rel="stylesheet" href="/blog-site/assets/style.7ab24b5e.css">
    <link rel="modulepreload" href="/blog-site/assets/chunks/VPAlgoliaSearchBox.74e2634e.js">
    <link rel="modulepreload" href="/blog-site/assets/chunks/ui-custom.9ec7921e.js">
    <link rel="modulepreload" href="/blog-site/assets/app.d1dfc59b.js">
    <link rel="modulepreload" href="/blog-site/assets/mp-weixin_2微信云开发_2小程序云开发.md.06f21af0.lean.js">
    
    <link rel="icon" href="/blog-site/avtt.svg" crossorigin="">
  <meta name="referrer" content="never">
  <script>(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-0721747c data-v-6b5fd0a9><!--[--><!--]--><!--[--><span tabindex="-1" data-v-45f6ae50></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-45f6ae50> Skip to content </a><!--]--><!----><header class="VPNav" data-v-6b5fd0a9 data-v-0e356168><div class="VPNavBar has-sidebar" data-v-0e356168 data-v-8856f192><div class="container" data-v-8856f192><div class="VPNavBarTitle has-sidebar" data-v-8856f192 data-v-6a6f7ff6><a class="title" href="/blog-site/" data-v-6a6f7ff6><!--[--><img class="VPImage logo" src="/blog-site/avtt.svg" data-v-73ae1788><!--]--><!--[-->Mao Lihang&#39;s blog<!--]--></a></div><div class="content" data-v-8856f192><div class="VPNavBarSearch search" data-v-8856f192><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key">Meta</kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-8856f192 data-v-a30758ee><span id="main-nav-aria-label" class="visually-hidden" data-v-a30758ee>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog-site/blog/%E7%9C%8B%E4%B8%80%E9%81%8D%E5%B0%B1%E4%BC%9A%E7%9A%84setup%E8%AF%AD%E6%B3%95%E7%B3%96.html" data-v-a30758ee data-v-8fba5fa8 data-v-5704c677><!--[-->blog<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-a30758ee data-v-8dccea88><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8dccea88><span class="text" data-v-8dccea88><!----> 大前端修炼 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-8dccea88><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-8dccea88><div class="VPMenu" data-v-8dccea88 data-v-e73581a2><div class="items" data-v-e73581a2><!--[--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/blog-site/typescript/" data-v-06b18c43 data-v-5704c677><!--[-->typescript<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/blog-site/vue/1vue/1vue%E5%85%A5%E9%97%A8.html" data-v-06b18c43 data-v-5704c677><!--[-->vue系列<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/blog-site/react/1react/1react%E4%BB%8B%E7%BB%8D.html" data-v-06b18c43 data-v-5704c677><!--[-->react系列<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/blog-site/uniapp/uniapp/1uni-app%E5%9F%BA%E7%A1%80.html" data-v-06b18c43 data-v-5704c677><!--[-->uniapp<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BB%8B%E7%BB%8D.html" data-v-06b18c43 data-v-5704c677><!--[-->微信小程序<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/blog-site/minweb/%E5%BE%AE%E5%89%8D%E7%AB%AF/1%E5%BE%AE%E5%89%8D%E7%AB%AF%E7%9A%84%E6%A6%82%E5%BF%B5.html" data-v-06b18c43 data-v-5704c677><!--[-->微前端<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/blog-site/webpack/1%E5%9F%BA%E7%A1%80/1%E5%89%8D%E8%A8%80.html" data-v-06b18c43 data-v-5704c677><!--[-->webpack<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/blog-site/nodejs/1%E8%AE%A4%E8%AF%86nodejs.html" data-v-06b18c43 data-v-5704c677><!--[-->nodejs<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/blog-site/version-manage/1git/1git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html" data-v-06b18c43 data-v-5704c677><!--[-->版本管理<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e73581a2 data-v-06b18c43><a class="VPLink link" href="/blog-site/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/1%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F.html" data-v-06b18c43 data-v-5704c677><!--[-->设计模式<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="https://admin.spicyboy.cn/" target="_blank" rel="noopener noreferrer" data-v-a30758ee data-v-8fba5fa8 data-v-5704c677><!--[-->项目预览<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-8856f192 data-v-311055f2><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-311055f2 data-v-781f9d1b data-v-1dda4c9c><span class="check" data-v-1dda4c9c><span class="icon" data-v-1dda4c9c><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-781f9d1b><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-781f9d1b><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-8856f192 data-v-0562f5c0 data-v-8dccea88><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-8dccea88><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-8dccea88><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-8dccea88><div class="VPMenu" data-v-8dccea88 data-v-e73581a2><!----><!--[--><!--[--><!----><div class="group" data-v-0562f5c0><div class="item appearance" data-v-0562f5c0><p class="label" data-v-0562f5c0>Appearance</p><div class="appearance-action" data-v-0562f5c0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-0562f5c0 data-v-781f9d1b data-v-1dda4c9c><span class="check" data-v-1dda4c9c><span class="icon" data-v-1dda4c9c><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-781f9d1b><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-781f9d1b><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-8856f192 data-v-6f008456><span class="container" data-v-6f008456><span class="top" data-v-6f008456></span><span class="middle" data-v-6f008456></span><span class="bottom" data-v-6f008456></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-6b5fd0a9 data-v-92b0f14a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-92b0f14a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-92b0f14a><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-92b0f14a>Menu</span></button><a class="top-link" href="#" data-v-92b0f14a> Return to top </a></div><aside class="VPSidebar" data-v-6b5fd0a9 data-v-55e4c7db><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-55e4c7db><span class="visually-hidden" id="sidebar-aria-label" data-v-55e4c7db> Sidebar Navigation </span><!--[--><div class="group" data-v-55e4c7db><section class="VPSidebarGroup" data-v-55e4c7db data-v-1f69a7ed><div class="title" data-v-1f69a7ed><h2 class="title-text" data-v-1f69a7ed>微信小程序</h2><div class="action" data-v-1f69a7ed><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-1f69a7ed><!--[--><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BB%8B%E7%BB%8D.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>小程序介绍</span><!--]--><!----></a><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/2%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%E5%8F%8A%E8%B4%A6%E5%8F%B7%E6%B3%A8%E5%86%8C.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>开发工具及账号注册</span><!--]--><!----></a><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/3%E6%96%B0%E5%BB%BA%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%A1%B9%E7%9B%AE.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>新建微信小程序项目</span><!--]--><!----></a><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/4%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%85%8D%E7%BD%AE%E9%A1%B9.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>小程序配置项</span><!--]--><!----></a><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/5%E5%88%87%E6%8D%A2%E9%A1%B5%E9%9D%A2%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>切换页面两种方式</span><!--]--><!----></a><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/6%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%A1%B5%E9%9D%A2%E7%BB%84%E6%88%90.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>小程序页面组成</span><!--]--><!----></a><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/7xxx.json%E5%B1%80%E9%83%A8%E9%85%8D%E7%BD%AE%E9%A1%B9.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>xxx.json局部配置项</span><!--]--><!----></a><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/8%E6%89%8B%E6%9C%BA%E7%AB%AF%E9%A2%84%E8%A7%88.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>手机端预览</span><!--]--><!----></a><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/9%E5%B8%B8%E7%94%A8%E7%BB%84%E4%BB%B6.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>常用组件</span><!--]--><!----></a><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/10WXML%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>WXML模板语法</span><!--]--><!----></a><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/11%E5%B8%B8%E8%A7%81%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>常见数据类型</span><!--]--><!----></a><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/12%E9%A1%B9%E7%9B%AE%E5%AF%BC%E5%85%A5.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>项目导入</span><!--]--><!----></a><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/13WXSS%E5%BE%AE%E4%BF%A1%E6%A0%B7%E5%BC%8F%E8%A1%A8.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>WXSS微信样式表</span><!--]--><!----></a><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/14%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>事件绑定</span><!--]--><!----></a><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/15%E6%95%B0%E6%8D%AE%E4%BF%AE%E6%94%B9%E6%9B%B4%E6%96%B0%E8%A7%86%E5%9B%BE.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>数据修改更新视图</span><!--]--><!----></a><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/16%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>自定义组件</span><!--]--><!----></a><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/17%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>生命周期</span><!--]--><!----></a><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/18%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>网络请求</span><!--]--><!----></a><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/19%E7%95%8C%E9%9D%A2%E4%BA%A4%E4%BA%92.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>界面交互</span><!--]--><!----></a><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/20%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%B7%AF%E7%94%B1.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>小程序路由</span><!--]--><!----></a><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/21%E6%A8%A1%E6%9D%BF%E5%8F%8A%E5%BC%95%E7%94%A8.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>模板及引用</span><!--]--><!----></a><a class="VPLink link" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/22wxs%E7%9A%84%E4%BD%BF%E7%94%A8.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>wxs的使用</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-55e4c7db><section class="VPSidebarGroup" data-v-55e4c7db data-v-1f69a7ed><div class="title" data-v-1f69a7ed><h2 class="title-text" data-v-1f69a7ed>微信云开发</h2><div class="action" data-v-1f69a7ed><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-1f69a7ed><!--[--><a class="VPLink link active" href="/blog-site/mp-weixin/2%E5%BE%AE%E4%BF%A1%E4%BA%91%E5%BC%80%E5%8F%91/2%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BA%91%E5%BC%80%E5%8F%91.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>小程序云开发</span><!--]--><!----></a><!--]--></div></section></div><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-6b5fd0a9 data-v-a4c57a06><div class="VPDoc has-sidebar" data-v-a4c57a06 data-v-79ca2460><div class="container" data-v-79ca2460><div class="aside" data-v-79ca2460><div class="aside-curtain" data-v-79ca2460></div><div class="aside-container" data-v-79ca2460><div class="aside-content" data-v-79ca2460><div class="VPDocAside" data-v-79ca2460 data-v-779d834d><!--[--><!--[--><!--[--><!--[--><!--[--><button type="button" class="documate-button" aria-label="Ask AI" data-v-fd703a20><svg class="icon" viewBox="0 0 12 14" fill="currentColor" data-v-fd703a20><path fill-rule="evenodd" clip-rule="evenodd" d="M6.61655 13.3474C6.69072 13.3474 6.75047 13.3232 6.7958 13.2749C6.84525 13.2306 6.87616 13.1721 6.88852 13.0996C6.97094 12.4628 7.0616 11.9269 7.1605 11.4916C7.26352 11.0564 7.39951 10.6997 7.56847 10.4216C7.73742 10.1435 7.96202 9.92194 8.24223 9.75671C8.52245 9.59147 8.88099 9.46454 9.31782 9.37581C9.7587 9.28313 10.2986 9.20257 10.9373 9.13407C11.0156 9.12598 11.0774 9.09776 11.1227 9.04939C11.1722 9.00103 11.1969 8.94061 11.1969 8.86806C11.1969 8.79552 11.1722 8.7351 11.1227 8.68674C11.0774 8.63837 11.0156 8.61015 10.9373 8.60206C10.2986 8.53356 9.7587 8.45498 9.31782 8.36634C8.88099 8.27366 8.52245 8.1447 8.24223 7.97946C7.96202 7.81424 7.73742 7.59259 7.56847 7.31452C7.39951 7.03646 7.26352 6.6798 7.1605 6.24456C7.0616 5.80932 6.97094 5.27132 6.88852 4.63056C6.87616 4.56205 6.84525 4.50563 6.7958 4.4613C6.75047 4.41293 6.69072 4.38876 6.61655 4.38876C6.54237 4.38876 6.48056 4.41293 6.4311 4.4613C6.38578 4.50563 6.35693 4.56205 6.34456 4.63056C6.26627 5.27132 6.17561 5.80932 6.07259 6.24456C5.97369 6.6798 5.8377 7.03646 5.66462 7.31452C5.49566 7.59259 5.27108 7.81424 4.99086 7.97946C4.71064 8.1447 4.35212 8.27366 3.91531 8.36634C3.4785 8.45498 2.93866 8.53356 2.2958 8.60206C2.21751 8.61015 2.15363 8.63837 2.10418 8.68674C2.05473 8.7351 2.03001 8.79552 2.03001 8.86806C2.03001 8.94061 2.05473 9.00103 2.10418 9.04939C2.15363 9.09776 2.21751 9.12598 2.2958 9.13407C2.93454 9.21462 3.47231 9.30533 3.90913 9.4061C4.34594 9.50283 4.70239 9.63175 4.97849 9.79294C5.25871 9.95413 5.48331 10.1718 5.65226 10.4458C5.82122 10.7158 5.95721 11.0664 6.06023 11.4976C6.16325 11.9288 6.25802 12.4628 6.34456 13.0996C6.35693 13.1721 6.38578 13.2306 6.4311 13.2749C6.48056 13.3232 6.54237 13.3474 6.61655 13.3474ZM2.65431 7.00622C2.70377 7.00622 2.74498 6.9901 2.77795 6.95787C2.81091 6.92563 2.82945 6.88734 2.83358 6.84301C2.88714 6.46016 2.94072 6.16396 2.99429 5.9544C3.04786 5.74081 3.13234 5.58163 3.24773 5.47685C3.36311 5.36804 3.53412 5.28341 3.76078 5.22296C3.98742 5.16251 4.30267 5.094 4.70652 5.01744C4.81366 5.00131 4.86723 4.94287 4.86723 4.84212C4.86723 4.79377 4.85074 4.75548 4.81778 4.72727C4.78893 4.69503 4.75185 4.67489 4.70652 4.66682C4.30267 4.6104 3.98536 4.556 3.7546 4.50361C3.52794 4.44719 3.35693 4.36458 3.24155 4.25576C3.13028 4.14293 3.04786 3.9777 2.99429 3.76008C2.94072 3.53843 2.88714 3.23417 2.83358 2.84729C2.82122 2.73848 2.76146 2.68408 2.65431 2.68408C2.54717 2.68408 2.48536 2.7405 2.46888 2.85334C2.42355 3.23215 2.3741 3.52836 2.32053 3.74195C2.26696 3.95553 2.18248 4.11673 2.06709 4.22554C1.95171 4.33032 1.77863 4.41293 1.54786 4.47339C1.32121 4.52981 1.00597 4.59428 0.602121 4.66682C0.494978 4.68698 0.441406 4.74541 0.441406 4.84212C0.441406 4.94287 0.503219 5.00131 0.626846 5.01744C1.02245 5.08594 1.33357 5.14841 1.56023 5.20483C1.791 5.26125 1.96201 5.34386 2.07328 5.45267C2.18454 5.56148 2.26696 5.72469 2.32053 5.94231C2.3741 6.1559 2.42355 6.45412 2.46888 6.83697C2.48536 6.9498 2.54717 7.00622 2.65431 7.00622ZM5.49773 3.08909C5.56366 3.08909 5.60487 3.05281 5.62135 2.98028C5.67493 2.67803 5.72643 2.45638 5.77589 2.31533C5.82534 2.17025 5.92217 2.06749 6.0664 2.00704C6.21064 1.94659 6.45377 1.88815 6.7958 1.83173C6.86998 1.81561 6.90707 1.77531 6.90707 1.71084C6.90707 1.6383 6.86998 1.598 6.7958 1.58993C6.45377 1.52949 6.21064 1.47105 6.0664 1.41463C5.92217 1.35418 5.82534 1.25343 5.77589 1.11238C5.72643 0.967306 5.67493 0.741626 5.62135 0.435348C5.60487 0.362808 5.56366 0.326538 5.49773 0.326538C5.42355 0.326538 5.38234 0.362808 5.3741 0.435348C5.31641 0.741626 5.26283 0.967306 5.21338 1.11238C5.16806 1.25343 5.07121 1.35418 4.92286 1.41463C4.77863 1.47105 4.5355 1.52949 4.19347 1.58993C4.11929 1.598 4.0822 1.6383 4.0822 1.71084C4.0822 1.77531 4.11929 1.81561 4.19347 1.83173C4.5355 1.88815 4.77863 1.94659 4.92286 2.00704C5.07121 2.06749 5.16806 2.17025 5.21338 2.31533C5.26283 2.45638 5.31641 2.67803 5.3741 2.98028C5.38234 3.05281 5.42355 3.08909 5.49773 3.08909Z" data-v-fd703a20></path></svg><span class="button-placeholder" data-v-fd703a20>求助AI</span></button><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline has-outline" data-v-779d834d data-v-51e5a8ce><div class="content" data-v-51e5a8ce><div class="outline-marker" data-v-51e5a8ce></div><div class="outline-title" data-v-51e5a8ce>当前页面</div><nav aria-labelledby="doc-outline-aria-label" data-v-51e5a8ce><span class="visually-hidden" id="doc-outline-aria-label" data-v-51e5a8ce> Table of Contents for current page </span><ul class="root" data-v-51e5a8ce><!--[--><li style="" data-v-51e5a8ce><a class="outline-link" href="#介绍" data-v-51e5a8ce>介绍</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#新建云开发项目" data-v-51e5a8ce>新建云开发项目</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#开通小程序·云开发" data-v-51e5a8ce>开通小程序·云开发</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#新建环境" data-v-51e5a8ce>新建环境</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#云开发后端和传统服务器后端差别" data-v-51e5a8ce>云开发后端和传统服务器后端差别</a><ul data-v-51e5a8ce><!--[--><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#传统服务器后端" data-v-51e5a8ce>传统服务器后端</a></li><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#小程序云开发" data-v-51e5a8ce>小程序云开发</a></li><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#云开发核心3大概念" data-v-51e5a8ce>云开发核心3大概念</a></li><!--]--></ul></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#云存储" data-v-51e5a8ce>云存储</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#小程序端-文件上传" data-v-51e5a8ce>小程序端 - 文件上传</a><ul data-v-51e5a8ce><!--[--><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#文件上传主要分两步" data-v-51e5a8ce>文件上传主要分两步</a></li><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#选择文件" data-v-51e5a8ce>选择文件</a></li><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#上传文件-api" data-v-51e5a8ce>上传文件 API</a></li><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#注意事项" data-v-51e5a8ce>注意事项</a></li><!--]--></ul></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#新建云开发环境-注意" data-v-51e5a8ce>新建云开发环境 - 注意</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#云数据库" data-v-51e5a8ce>云数据库</a><ul data-v-51e5a8ce><!--[--><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#新建数据库集合" data-v-51e5a8ce>新建数据库集合</a></li><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#注意事项-踩坑" data-v-51e5a8ce>注意事项 - 踩坑</a></li><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#新建集合步骤" data-v-51e5a8ce>新建集合步骤</a></li><!--]--></ul></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#小程序端项目精简" data-v-51e5a8ce>小程序端项目精简</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#数据库操作-🚩" data-v-51e5a8ce>数据库操作- 🚩</a><ul data-v-51e5a8ce><!--[--><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#云环境初始化" data-v-51e5a8ce>云环境初始化</a></li><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#连接数据库并打开某个集合" data-v-51e5a8ce>连接数据库并打开某个集合</a></li><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#增加" data-v-51e5a8ce>增加</a></li><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#查询全部" data-v-51e5a8ce>查询全部</a></li><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#修改集合数据权限" data-v-51e5a8ce>修改集合数据权限</a></li><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#根据id查询" data-v-51e5a8ce>根据id查询</a></li><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#模糊条件查询" data-v-51e5a8ce>模糊条件查询</a></li><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#删除" data-v-51e5a8ce>删除</a></li><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#修改" data-v-51e5a8ce>修改</a></li><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#数据搜索" data-v-51e5a8ce>数据搜索</a></li><!--]--></ul></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#项目初始化" data-v-51e5a8ce>项目初始化</a><ul data-v-51e5a8ce><!--[--><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#安装-vant-ui-小程序版" data-v-51e5a8ce>安装 Vant UI 小程序版</a></li><li style="" data-v-51e5a8ce><a class="outline-link nested" href="#构建-npm-包-🚩" data-v-51e5a8ce>构建 npm 包 🚩</a></li><!--]--></ul></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#app实例" data-v-51e5a8ce>App实例</a><!----></li><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-779d834d></div><!--[--><!--]--><!----><!--[--><!--[--><!--[--><!--[--><div id="ad" data-v-0721747c><a href="javascript:viod(0)" target="_blank" rel="sponsored noopener" data-v-0721747c><img src="/blog-site/qr.jpg" data-v-0721747c> 加我为好友! </a></div><!--]--><!--]--><!--]--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-79ca2460><div class="content-container" data-v-79ca2460><!--[--><!--]--><main class="main" data-v-79ca2460><div style="position:relative;" class="vp-doc _blog-site_mp-weixin_2%E5%BE%AE%E4%BF%A1%E4%BA%91%E5%BC%80%E5%8F%91_2%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BA%91%E5%BC%80%E5%8F%91" data-v-79ca2460><div><h1 id="微信小程序云开发" tabindex="-1">微信小程序云开发 <a class="header-anchor" href="#微信小程序云开发" aria-hidden="true">#</a></h1><h2 id="介绍" tabindex="-1">介绍 <a class="header-anchor" href="#介绍" aria-hidden="true">#</a></h2><p>开发者可以使用云开发开发微信小程序、小游戏，<code>无需搭建服务器</code>，即可使用云端能力。</p><p>相当于全栈方向。</p><h2 id="新建云开发项目" tabindex="-1">新建云开发项目 <a class="header-anchor" href="#新建云开发项目" aria-hidden="true">#</a></h2><img src="/blog-site/assets/image-20200930093138095.303bc059.png" alt="image-20200930093138095" style="zoom:50%;"><img src="/blog-site/assets/image-20200930093340440.fe126ca7.png" alt="image-20200930093340440" style="zoom:50%;"><h2 id="开通小程序·云开发" tabindex="-1">开通小程序·云开发 <a class="header-anchor" href="#开通小程序·云开发" aria-hidden="true">#</a></h2><ol><li>云开发提供了免费的接口服务器，免费的存储空间，免费的数据库。</li><li>第一次使用需要开通服务，同时创建云开发环境。</li></ol><img src="/blog-site/assets/image-20200930095657645.c945fdf4.png" alt="image-20200930095657645" style="zoom:33%;"><img src="/blog-site/assets/image-20200930095723714.23bb6dd4.png" alt="image-20200930095723714" style="zoom:50%;"><img src="/blog-site/assets/image-20200930095738422.28e2635e.png" alt="image-20200930095738422" style="zoom:50%;"><p><img src="/blog-site/assets/image-20200930092151499.4666e9b1.png" alt="image-20200930092151499"></p><h2 id="新建环境" tabindex="-1">新建环境 <a class="header-anchor" href="#新建环境" aria-hidden="true">#</a></h2><p>记得复制环境名字，开发的时候需要用到。 <code>hm54-9ggy9ynhd3c080fb</code></p><p><img src="/blog-site/assets/image-20200930093920999.0e343c3c.png" alt="image-20200930093920999"></p><h2 id="云开发后端和传统服务器后端差别" tabindex="-1">云开发后端和传统服务器后端差别 <a class="header-anchor" href="#云开发后端和传统服务器后端差别" aria-hidden="true">#</a></h2><h3 id="传统服务器后端" tabindex="-1">传统服务器后端 <a class="header-anchor" href="#传统服务器后端" aria-hidden="true">#</a></h3><ol><li>前端开发者无法直接读取和写入文件，无法直接操作数据库。</li><li>前端要读写文件，操作数据，需要依赖服务端环境，通过发送请求和接收响应实现业务。</li></ol><img src="/blog-site/assets/image-20200930101124618.9cca6748.png" alt="image-20200930101124618" style="zoom:50%;"><h3 id="小程序云开发" tabindex="-1">小程序云开发 <a class="header-anchor" href="#小程序云开发" aria-hidden="true">#</a></h3><p>小程序云开发，主要多了两大功能：</p><ol><li>小程序可以直接上传资源到云存储空间。</li><li>小程序可以直接对数据库进行增删改查操作。</li></ol><p>有点：这个转变可以让小程序前端拥有更强的能力，后端变得没有那么重要了。</p><img src="/blog-site/assets/image-20200930101531056.cc5bc942.png" alt="image-20200930101531056" style="zoom:50%;"><h3 id="云开发核心3大概念" tabindex="-1">云开发核心3大概念 <a class="header-anchor" href="#云开发核心3大概念" aria-hidden="true">#</a></h3><ol><li>云数据库</li><li>云存储</li><li>云函数</li></ol><h2 id="云存储" tabindex="-1">云存储 <a class="header-anchor" href="#云存储" aria-hidden="true">#</a></h2><ol><li>免费环境提供 <code>5G</code> 存储空间，可以上传 <code>html</code> 页面，图片，视频等资源。</li><li><code>cloud://</code> 这种协议只能在小程序内部使用。</li><li>浏览器能识别的 <code>https://</code> 这种协议的地址。</li><li>如果要在其他项目中引入云存储的资源，请使用 <code>https://</code> 这种地址。</li><li>云储存还提供了对应的 <code>API</code>，可以直接通过小程序端<code>代码实现上传</code>。</li></ol><img src="/blog-site/assets/image-20200930102739815.45da036f.png" alt="image-20200930102739815" style="zoom:50%;"><h2 id="小程序端-文件上传" tabindex="-1">小程序端 - 文件上传 <a class="header-anchor" href="#小程序端-文件上传" aria-hidden="true">#</a></h2><h3 id="文件上传主要分两步" tabindex="-1">文件上传主要分两步 <a class="header-anchor" href="#文件上传主要分两步" aria-hidden="true">#</a></h3><ol><li>选择文件。</li><li>上传文件。</li></ol><h3 id="选择文件" tabindex="-1">选择文件 <a class="header-anchor" href="#选择文件" aria-hidden="true">#</a></h3><p><code>wx.chooseImage()</code></p><p><code>wx.chooseVideo()</code></p><p><code>wx.chooseMedia()</code></p><h3 id="上传文件-api" tabindex="-1">上传文件 API <a class="header-anchor" href="#上传文件-api" aria-hidden="true">#</a></h3><div class="language-jsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">wx</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cloud</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">uploadFile</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">cloudPath</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">example.png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">// 存储时的文件名</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">filePath</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> 			</span><span style="color:#676E95;font-style:italic;">// 要上传文件资源的路径</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(res </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fileID</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#A6ACCD;">(error </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// handle error</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h3 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-hidden="true">#</a></h3><ol><li>将本地资源上传至云存储空间</li><li>如果上传至同一路径则是覆盖写入，所以上传的时候注意改名。</li></ol><h2 id="新建云开发环境-注意" tabindex="-1">新建云开发环境 - 注意 <a class="header-anchor" href="#新建云开发环境-注意" aria-hidden="true">#</a></h2><ol><li>设置 - 新建环境，并复制名称 ，注意每个同学的环境变量都不一样。<code>gfg-5bd181(仅供参考)</code></li></ol><h2 id="云数据库" tabindex="-1">云数据库 <a class="header-anchor" href="#云数据库" aria-hidden="true">#</a></h2><h3 id="新建数据库集合" tabindex="-1">新建数据库集合 <a class="header-anchor" href="#新建数据库集合" aria-hidden="true">#</a></h3><ol><li><p>新建的集合可以理解为就是一个 <code>json</code> 文件。</p></li><li><p>可以通过点击记录手动添加数据。</p></li><li><p>可以导入 <code>json</code> 文件 和 导出 <code>json</code> 文件。</p></li></ol><h3 id="注意事项-踩坑" tabindex="-1">注意事项 - 踩坑 <a class="header-anchor" href="#注意事项-踩坑" aria-hidden="true">#</a></h3><ul><li>导出和导入的 <code>json</code> 文件和我们之前学习的不一样。</li><li>云开发导入和导出的 <code>json</code> 文件，<code>一条数据占一行</code>，而且每条数据之间<code>不需要用逗号结束</code>。</li><li>所以通过按钮点击导入导出平常比较少用，更多的是通过代码的方式导入数据。</li></ul><h3 id="新建集合步骤" tabindex="-1">新建集合步骤 <a class="header-anchor" href="#新建集合步骤" aria-hidden="true">#</a></h3><p><img src="/blog-site/assets/image-20200930011415008.7aa0b690.png" alt="image-20200930011415008"></p><h2 id="小程序端项目精简" tabindex="-1">小程序端项目精简 <a class="header-anchor" href="#小程序端项目精简" aria-hidden="true">#</a></h2><p><img src="/blog-site/assets/image-20200930111249812.c8bf2d23.png" alt="image-20200930111249812"></p><h2 id="数据库操作-🚩" tabindex="-1">数据库操作- 🚩 <a class="header-anchor" href="#数据库操作-🚩" aria-hidden="true">#</a></h2><h3 id="云环境初始化" tabindex="-1">云环境初始化 <a class="header-anchor" href="#云环境初始化" aria-hidden="true">#</a></h3><blockquote><p>在调用云开发各 <code>API</code> 前，需先调用初始化方法 <code>init</code> 一次（全局只需一次，多次调用时只有第一次生效）</p></blockquote><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// 1. 初始化云环境</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//app.js</span></span>
<span class="line"><span style="color:#82AAFF;">App</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 小程序启动时触发的生命周期函数</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">onLaunch</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// 全局只需一次，多次调用时只有第一次生效</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">wx</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cloud</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">init</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        env</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">itcast-zftt8</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h3 id="连接数据库并打开某个集合" tabindex="-1">连接数据库并打开某个集合 <a class="header-anchor" href="#连接数据库并打开某个集合" aria-hidden="true">#</a></h3><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// 2. 连接云数据库</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> db </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> wx</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">clound</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">database</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 3. 打开 hero 集合(文件)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> heroCollection </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> db</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">collection</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hero</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="增加" tabindex="-1">增加 <a class="header-anchor" href="#增加" aria-hidden="true">#</a></h3><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">小明</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h3 id="查询全部" tabindex="-1">查询全部 <a class="header-anchor" href="#查询全部" aria-hidden="true">#</a></h3><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span></code></pre></div><h3 id="修改集合数据权限" tabindex="-1">修改集合数据权限 <a class="header-anchor" href="#修改集合数据权限" aria-hidden="true">#</a></h3><ol><li>云数据库有权限的概念：默认情况下，哪个用户新增的数据，哪个用户可以查看和修改，其他用户看不到。</li><li>如果想要让新增的数据给所有小程序用户都能查询到，可以修改数据库集合的权限。</li></ol><p><img src="/blog-site/assets/image-20201103160036392.668fe163.png" alt="image-20201103160036392"></p><p>PS：为了开发更加方便操作<code>数据库</code>，数据权限建议选择<code>自定义安全规则</code>。</p><p>测试阶段把规则设置为 <code>允许所有用户可读，允许所有用户可写</code>，配置参考如下：</p><div class="language-json"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">read</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">write</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><img src="/blog-site/assets/image-20200930114719682.f7cdd507.png" alt="image-20200930114719682"></p><h3 id="根据id查询" tabindex="-1">根据id查询 <a class="header-anchor" href="#根据id查询" aria-hidden="true">#</a></h3><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">doc</span><span style="color:#A6ACCD;">(_id)</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span></code></pre></div><h3 id="模糊条件查询" tabindex="-1">模糊条件查询 <a class="header-anchor" href="#模糊条件查询" aria-hidden="true">#</a></h3><p>可通过 <code>正则表达式</code> 配合 <code>where</code> 条件进行模糊匹配。</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// 原生 JavaScript 对象</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">where</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#C3E88D;">李白</span><span style="color:#89DDFF;">/</span><span style="color:#F78C6C;">i</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 把字符串转成正则对象</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">where</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> db</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">RegExp</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">regexp</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">李白</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">options</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th style="text-align:left;">flag</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">i</td><td style="text-align:left;">大小写不敏感</td></tr><tr><td style="text-align:left;">m</td><td style="text-align:left;">跨行匹配；让开始匹配符 <code>^</code> 或结束匹配符 <code>$</code> 时除了匹配字符串的开头和结尾外，还匹配行的开头和结尾</td></tr></tbody></table><h3 id="删除" tabindex="-1">删除 <a class="header-anchor" href="#删除" aria-hidden="true">#</a></h3><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">doc</span><span style="color:#A6ACCD;">(_id)</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">remove</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span></code></pre></div><h3 id="修改" tabindex="-1">修改 <a class="header-anchor" href="#修改" aria-hidden="true">#</a></h3><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">doc</span><span style="color:#A6ACCD;">(_id)</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">update</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    	</span><span style="color:#F07178;">键名称</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> 值</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="数据搜索" tabindex="-1">数据搜索 <a class="header-anchor" href="#数据搜索" aria-hidden="true">#</a></h3><p><img src="/blog-site/assets/image-20200930151838974.d8adaf6b.png" alt="image-20200930151838974"></p><h2 id="项目初始化" tabindex="-1">项目初始化 <a class="header-anchor" href="#项目初始化" aria-hidden="true">#</a></h2><p>注意事项：进入 <code>miniprogram</code> 文件夹，再执行初始化 npm 项目和 安装 npm 包的命令。</p><p>常见错误：直接在根云开发项目的目录初始化。</p><h3 id="安装-vant-ui-小程序版" tabindex="-1">安装 Vant UI 小程序版 <a class="header-anchor" href="#安装-vant-ui-小程序版" aria-hidden="true">#</a></h3><div class="language-shell"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;"># 进入 小程序项目目录</span></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> miniprogram</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 初始化项目</span></span>
<span class="line"><span style="color:#A6ACCD;">npm init</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 安装 vant UI 组件库</span></span>
<span class="line"><span style="color:#A6ACCD;">npm i @vant/weapp -S --production</span></span>
<span class="line"></span></code></pre></div><h3 id="构建-npm-包-🚩" tabindex="-1">构建 <code>npm</code> 包 🚩 <a class="header-anchor" href="#构建-npm-包-🚩" aria-hidden="true">#</a></h3><p><img src="https://img.yzcdn.cn/public_files/2019/08/15/fa0549210055976cb63798503611ce3d.png" alt="img"></p><div class="language-json"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// app.json</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">usingComponents</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">van-search</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@vant/weapp/search/index</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><div class="language-xml"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">van-search</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">value</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{{ value }}</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">shape</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">round</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">background</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#00B26A</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">placeholder</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">请输入英雄名称</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="app实例" tabindex="-1">App实例 <a class="header-anchor" href="#app实例" aria-hidden="true">#</a></h2><p><code>App</code> 实例其实类似 <code>Vue</code> 实例，都是全局的实例。</p><p>只不过小程序的全局 <code>App</code> 实例在页面中使用的时候，需要先通过 <code>getApp()</code></p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">//app.js</span></span>
<span class="line"><span style="color:#82AAFF;">App</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">onLaunch</span><span style="color:#89DDFF;">(){</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 1. 初始化云环境</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">wx</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cloud</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">init</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">env</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hm54-9ggy9ynhd3c080fb</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 自己的环境名称 </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 2. 连接云数据库</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">db</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">wx</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cloud</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">database</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 3. 打开 hero 集合(文件) - 并把集合对象添加到全局 app 对象上</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">hero</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">db</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">collection</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hero</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 自己新建的集合名称</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>页面中获取全局<code>App</code>实例</p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// 获取 App 全局实例</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> app </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">getApp</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(app)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 直接调用</span></span>
<span class="line"><span style="color:#82AAFF;">getApp</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">hero</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-79ca2460 data-v-04568844><div class="edit-info" data-v-04568844><!----><!----></div><div class="prev-next" data-v-04568844><div class="pager" data-v-04568844><a class="pager-link prev" href="/blog-site/mp-weixin/1%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/22wxs%E7%9A%84%E4%BD%BF%E7%94%A8.html" data-v-04568844><span class="desc" data-v-04568844>Previous page</span><span class="title" data-v-04568844>wxs的使用</span></a></div><div class="has-prev pager" data-v-04568844><!----></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-6b5fd0a9 data-v-5b331722><div class="container" data-v-5b331722><p class="message" data-v-5b331722>转载请注明出处</p><p class="copyright" data-v-5b331722>Copyright © 2019-present maolihang</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"base_index.md\":\"d11bf282\",\"blog_event-loop.md\":\"78666d6e\",\"blog_h5与客户端交互.md\":\"7eb65c01\",\"blog_pinia持久化.md\":\"6c6fc3e6\",\"blog_typescript中的常用高级类型.md\":\"31f6c9bb\",\"blog_alova的使用.md\":\"60970324\",\"blog_axios的使用及封装.md\":\"6981a89a\",\"blog_electron-vite的使用.md\":\"0d459deb\",\"blog_gsap动效与dat.gui界面.md\":\"86a11a69\",\"blog_h5兼容低版本浏览器.md\":\"435fac49\",\"blog_js优化技巧.md\":\"07efa645\",\"blog_js简写技巧.md\":\"2fd7aa72\",\"blog_monorepo工程.md\":\"fc688880\",\"blog_nvm的使用.md\":\"9ec91a8e\",\"blog_parcel的使用.md\":\"dfe055cb\",\"blog_pinia的使用.md\":\"332875a7\",\"blog_record.md\":\"b26a5ce1\",\"blog_sass进阶.md\":\"1f326f05\",\"blog_setup定义组件的name属性.md\":\"df3312a1\",\"blog_ts的高级使用.md\":\"6250a4e1\",\"blog_unplugin-auto-import自动导入组合api.md\":\"cdd11747\",\"blog_vite打包配置(gzip、文件分类等).md\":\"c9396f37\",\"blog_vue3组件通信方式.md\":\"50365a09\",\"blog_vue_ts中配置eslint_prettier.md\":\"66cab5a1\",\"blog_vue批量导入文件.md\":\"87dc7614\",\"blog_vue项目打包优化.md\":\"010ca1b1\",\"blog_webapi实用知识点.md\":\"24ced6eb\",\"blog_webpack基本配置.md\":\"ffc46026\",\"blog_代码自动同步并部署.md\":\"b9bec3c3\",\"blog_创建vue3项目.md\":\"c515a748\",\"blog_前端常见的十个手写功能.md\":\"2635955c\",\"blog_动画方案.md\":\"79e616b5\",\"blog_华为云上传文件.md\":\"e4ef38ef\",\"blog_发布一个包到npm.md\":\"8608c5e3\",\"blog_图片懒加载指令.md\":\"2a567e66\",\"blog_外链.md\":\"8d9e7dca\",\"blog_小程序canvas绘制海报.md\":\"be5a2bec\",\"blog_小程序scrollview封装.md\":\"e312077e\",\"blog_小程序手机验证码组件.md\":\"61b34f02\",\"blog_小程序瀑布流.md\":\"403d8018\",\"blog_开箱即用的后台模板.md\":\"8230a4c4\",\"blog_手写组合api.md\":\"6f1d5604\",\"blog_接口调用方式.md\":\"d8a03e8e\",\"blog_数字精度处理.md\":\"71a70600\",\"blog_看一遍就会的setup语法糖.md\":\"ebaf43f2\",\"blog_简述生命周期以及每个阶段做的事.md\":\"42dbcaa0\",\"blog_组合式api入门.md\":\"ce8f34ba\",\"blog_组合式api概述.md\":\"1e8654c7\",\"blog_组合式api进阶.md\":\"979f16a2\",\"blog_绿版vscode.md\":\"fc935c9f\",\"blog_链接生成二维码.md\":\"2c7e6f51\",\"blog_高德地图的使用.md\":\"00f0b4cf\",\"index.md\":\"6b5c9ef7\",\"minweb_微前端_1微前端的概念.md\":\"bacaf74e\",\"minweb_微前端_2现有的微前端方案.md\":\"aa569429\",\"minweb_微前端_3qiankun的基本使用.md\":\"d0fd99c9\",\"minweb_微前端_4无界基本使用.md\":\"a6125cc2\",\"mp-weixin_1微信小程序_10wxml模板语法.md\":\"3975d501\",\"mp-weixin_1微信小程序_11常见数据类型.md\":\"8f0aab78\",\"mp-weixin_1微信小程序_12项目导入.md\":\"29c69c7d\",\"mp-weixin_1微信小程序_13wxss微信样式表.md\":\"7c499b49\",\"mp-weixin_1微信小程序_14事件绑定.md\":\"713afa83\",\"mp-weixin_1微信小程序_15数据修改更新视图.md\":\"68061590\",\"mp-weixin_1微信小程序_16自定义组件.md\":\"3217f545\",\"mp-weixin_1微信小程序_17生命周期.md\":\"63b1fbdc\",\"mp-weixin_1微信小程序_18网络请求.md\":\"f48f366f\",\"mp-weixin_1微信小程序_19界面交互.md\":\"61cc7742\",\"mp-weixin_1微信小程序_1小程序介绍.md\":\"f07ff5ac\",\"mp-weixin_1微信小程序_20小程序路由.md\":\"8e2ee472\",\"mp-weixin_1微信小程序_21模板及引用.md\":\"3df37e56\",\"mp-weixin_1微信小程序_22wxs的使用.md\":\"39193325\",\"mp-weixin_1微信小程序_2开发工具及账号注册.md\":\"631b86c8\",\"mp-weixin_1微信小程序_3新建微信小程序项目.md\":\"9b89c90f\",\"mp-weixin_1微信小程序_4小程序配置项.md\":\"72517b4c\",\"mp-weixin_1微信小程序_5切换页面两种方式.md\":\"60031560\",\"mp-weixin_1微信小程序_6小程序页面组成.md\":\"7a0bb184\",\"mp-weixin_1微信小程序_7xxx.json局部配置项.md\":\"2864a1ba\",\"mp-weixin_1微信小程序_8手机端预览.md\":\"196df5e7\",\"mp-weixin_1微信小程序_9常用组件.md\":\"0a287ca4\",\"mp-weixin_2微信云开发_2小程序云开发.md\":\"06f21af0\",\"nodejs_1认识nodejs.md\":\"d6b6a4f2\",\"nodejs_2node环境.md\":\"ea17a186\",\"nodejs_3fs文件系统模块.md\":\"97d98f3f\",\"nodejs_4path 路径模块.md\":\"8acd65ee\",\"nodejs_5http模块.md\":\"5dda71c0\",\"nodejs_6模块化.md\":\"ede0b097\",\"nodejs_7npm与包.md\":\"16115ec7\",\"nodejs_8express的使用.md\":\"6ee5e3a2\",\"react_1react_1react介绍.md\":\"3476c06e\",\"react_1react_2jsx的使用.md\":\"21647dc0\",\"react_1react_3react组件.md\":\"2ddb60ab\",\"react_1react_4表单处理.md\":\"2e4bc8b4\",\"react_1react_5react组件通信.md\":\"94062d7d\",\"react_1react_6react组件进阶.md\":\"37a7d738\",\"react_1react_7生命周期.md\":\"4b2f4de6\",\"react_1react_8hooks基础.md\":\"f8837eb1\",\"react_1react_9hooks进阶.md\":\"0a3fe469\",\"react_2reactrouter_1前置知识.md\":\"289d4b53\",\"react_2reactrouter_2基础使用.md\":\"52febfd6\",\"react_3mobx_mobx的使用.md\":\"1daaf747\",\"react_4zustand_zustand的使用.md\":\"e82da97b\",\"typescript_1基础_1ts环境安装与初体验.md\":\"7b1e148e\",\"typescript_1基础_2ts数据类型.md\":\"59594b3e\",\"typescript_1基础_3接口.md\":\"329ffab5\",\"typescript_1基础_4函数.md\":\"dba57dad\",\"typescript_1基础_5类的使用.md\":\"cb19991c\",\"typescript_1基础_6泛型.md\":\"6e10d5b1\",\"typescript_1基础_7一些补充.md\":\"6af7d911\",\"typescript_2进阶_1ts兼容类型.md\":\"a786e643\",\"typescript_2进阶_2装饰器.md\":\"e3d29a72\",\"typescript_2进阶_3混入mixins.md\":\"0dfbbff2\",\"typescript_2进阶_4模块与命名空间.md\":\"b65cc6d0\",\"typescript_2进阶_5常用高级类型.md\":\"1f5db0d8\",\"typescript_3高级_1编译选项.md\":\"a943d0e3\",\"typescript_3高级_2webpack编译ts.md\":\"5aaf1da6\",\"typescript_3高级_3babel.md\":\"60c7841a\",\"typescript_3高级_4ts描述文件声明.md\":\"33551ec4\",\"typescript_index.md\":\"5d332327\",\"uniapp_uniapp_1uni-app基础.md\":\"2eed1fd2\",\"uniapp_uniapp_2环境配置.md\":\"4d2f9eaf\",\"version-manage_1git_1git常用命令.md\":\"d8f80829\",\"version-manage_1git_2stash详解.md\":\"3b1169f5\",\"version-manage_1git_3reset撤销详解.md\":\"21cdef85\",\"version-manage_1git_4tag标签详解.md\":\"7c6c8b3b\",\"version-manage_2svn_1svn安装及配置.md\":\"0cf96b81\",\"version-manage_2svn_2svn图标集.md\":\"90a6c152\",\"version-manage_2svn_3svn使用详解.md\":\"d5f392f1\",\"vue_1vue_1vue入门.md\":\"5d1befdc\",\"vue_1vue_2指令.md\":\"2b1d6348\",\"vue_1vue_3组件.md\":\"0d1407af\",\"vue_1vue_4生命周期.md\":\"2f95b5ba\",\"vue_1vue_5计算属性computed.md\":\"4fe12b39\",\"vue_1vue_6侦听器watch.md\":\"108bfcd0\",\"vue_1vue_7过滤器.md\":\"3654cb43\",\"vue_2vue3_1组合式api概述.md\":\"c9180a37\",\"vue_2vue3_2组合式api入门.md\":\"50c29580\",\"vue_2vue3_3组合式api进阶.md\":\"96bf08e6\",\"vue_3vuerouter_1路由的概念与原理.md\":\"00ed4239\",\"vue_3vuerouter_2vue-router的基本使用.md\":\"a8ebb22a\",\"vue_3vuerouter_3vue-router的常见用法.md\":\"d66345cb\",\"vue_4vuex_vuex的使用.md\":\"b6eaf616\",\"vue_5pinia_pinia的使用.md\":\"8f6d4c5f\",\"webpack_1基础_10处理字体图标资源.md\":\"25a80166\",\"webpack_1基础_11处理其他资源.md\":\"c6b02b66\",\"webpack_1基础_12处理js资源.md\":\"e31fd4bd\",\"webpack_1基础_13处理html资源.md\":\"37560aa2\",\"webpack_1基础_14开发服务器与自动化.md\":\"296ff44a\",\"webpack_1基础_15生产模式介绍.md\":\"6eb0d3fc\",\"webpack_1基础_16css处理.md\":\"9cbce935\",\"webpack_1基础_17html压缩.md\":\"5855db4b\",\"webpack_1基础_18总结.md\":\"02a5a278\",\"webpack_1基础_1前言.md\":\"0a4231a8\",\"webpack_1基础_2基本使用.md\":\"8228fa80\",\"webpack_1基础_3基本配置.md\":\"bc9b0843\",\"webpack_1基础_5开发模式介绍.md\":\"f3231c14\",\"webpack_1基础_6处理样式资源.md\":\"5f2f2e49\",\"webpack_1基础_7处理图片资源.md\":\"f156d8a0\",\"webpack_1基础_8修改输出资源的名称和路径.md\":\"ae76ae9d\",\"webpack_1基础_9自动清空上次打包资源.md\":\"b82432b4\",\"webpack_2进阶_1介绍.md\":\"108efb40\",\"webpack_2进阶_2提升开发体验.md\":\"0489ea47\",\"webpack_2进阶_3提升打包构建速度.md\":\"a1796e73\",\"webpack_2进阶_4减少代码体积.md\":\"93f16657\",\"webpack_2进阶_5优化代码运行性能.md\":\"8511ec20\",\"webpack_2进阶_6总结.md\":\"c89adbcf\",\"webpack_3项目_1介绍.md\":\"748f976f\",\"webpack_3项目_2react脚手架.md\":\"cdbfd919\",\"webpack_3项目_3vue脚手架.md\":\"6c075d37\",\"webpack_3项目_4总结.md\":\"29bdfdd7\",\"webpack_4原理_1介绍.md\":\"bb7687fb\",\"webpack_4原理_2loader原理.md\":\"165573cf\",\"webpack_4原理_3plugin原理.md\":\"e2f95ed2\",\"webpack_4原理_4总结.md\":\"e1e90e01\",\"设计模式_1观察者模式.md\":\"c0ab7a91\",\"设计模式_2发布订阅模式.md\":\"eb9fbd83\"}")</script>
    <script type="module" async src="/blog-site/assets/app.d1dfc59b.js"></script>
    
  </body>
</html>